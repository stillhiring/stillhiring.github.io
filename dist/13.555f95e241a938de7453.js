(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{hB7q:function(e,t,a){"use strict";a.r(t);var r=a("q1tI"),n=a.n(r),o=a("8AXF"),l=a("wEEd");function c(e,t,a,r,n,o,l){try{var c=e[o](l),i=c.value}catch(e){return void a(e)}c.done?t(i):Promise.resolve(i).then(r,n)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],r=!0,n=!1,o=void 0;try{for(var l,c=e[Symbol.iterator]();!(r=(l=c.next()).done)&&(a.push(l.value),!t||a.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(n)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var s=function(e){var t=document.createElement("a");t.download="export.zip",t.style.display="none",t.href=e,document.body.appendChild(t),t.click(),setTimeout((function(){document.body.removeChild(t)}),1e3)};t.default=function(){var e=Object(r.useContext)(o.BackboneContext),t=e.model,a=e.destroy,u=i(Object(r.useState)(""),2),m=u[0],d=u[1],p=i(Object(r.useState)(!1),2),f=p[0],v=p[1],h=i(Object(r.useState)(!0),2),y=h[0],b=h[1],E=i(Object(r.useState)(!1),2),w=E[0],g=E[1],x=Object(l.c)(y,null,{from:{top:0,left:0,width:"100%",height:"100%",zIndex:9999,position:"absolute",opacity:0},enter:{opacity:1},leave:{opacity:0},onDestroyed:function(){a()}}),N=function(){b(!1)},k=function(e){e.target===e.currentTarget&&N()},j=function(){var e,a=(e=regeneratorRuntime.mark((function e(a){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),m&&!f){e.next=3;break}return e.abrupt("return");case 3:return r=!0,v(!0),e.prev=5,e.next=8,fetch("/api/mag/".concat(t.num_id,"/export?origin=").concat(m)).then((function(e){return e.json()}));case 8:n=e.sent,o=n.data.url,s(o),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(5),r=!1,g(!0),setTimeout((function(){g(!1)}),5e3);case 18:return e.prev=18,v(!1),r&&N(),e.finish(18);case 22:case"end":return e.stop()}}),e,null,[[5,13,18,22]])})),function(){var t=this,a=arguments;return new Promise((function(r,n){var o=e.apply(t,a);function l(e){c(o,r,n,l,i,"next",e)}function i(e){c(o,r,n,l,i,"throw",e)}l(void 0)}))});return function(e){return a.apply(this,arguments)}}();return n.a.createElement(n.a.Fragment,null,x.map((function(e){var t=e.item,a=e.key,r=e.props;return t&&n.a.createElement(l.a.div,{key:a,style:r},n.a.createElement("div",{className:"export-code-popup",style:{opacity:1},role:"dialog","aria-labelledby":"export-code-title","aria-modal":"true"},n.a.createElement("div",{className:"panel-wrapper",onClick:k},n.a.createElement("div",{className:"close",onClick:N}),n.a.createElement("div",{className:"panel"},n.a.createElement("div",{id:"export-code-title",className:"header"},"Export code"),n.a.createElement("div",{className:"message"},"Please provide a full URL where the project will be hosted. ",n.a.createElement("br",null)," Typekit fonts will only work on this domain."),n.a.createElement("form",{onSubmit:j},n.a.createElement("input",{className:"domain-input",type:"text",placeholder:"domain.com or domain.com/page",value:m,onChange:function(e){return d(e.target.value)},disabled:f}),n.a.createElement("button",{className:"download ".concat(w?"error":""," ").concat(f?"preloader":""),type:"submit",disabled:w||!m},n.a.createElement("span",null,w?"Error":"Download"),n.a.createElement("div",{className:"rmpreloader"},n.a.createElement("div",{className:"arc"})))),n.a.createElement("ul",{className:"alerts"},n.a.createElement("li",{className:"alert-item alert-forms"},n.a.createElement("div",{className:"alert-item-icon"},n.a.createElement("span",{className:"notification-sign"},"!")),n.a.createElement("div",{className:"alert-text"},"Forms will not send submitted data to emails, Google Docs, or Mailchimp. Only URL option will work.",n.a.createElement("br",null),n.a.createElement("a",{href:"http://help.readymag.com/hc/en-us/articles/360020793111-Form",className:"alert-learn-more",target:"_blank",rel:"noopener noreferrer"},"Learn more"))))))))})))}}}]);